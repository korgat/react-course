{"version":3,"sources":["hoc/AuthRedirect.js","assets/images/user.png","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","components/Users/Users.module.css","common/loaders/loader.module.css","components/Header/Header.module.css","components/Navbar/Nav.module.css","api/userApi.js","store/dialogsReducer.js","store/navbarReducer.js","store/usersReducer.js","store/authReducer.js","store/appReducer.js","store/reduxStore.js","components/Navbar/Nav.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","common/paginator/paginator.jsx","components/Users/Users.jsx","common/loaders/loader.jsx","store/userSelectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","hoc/WithSuspence.js","reportWebVitals.js","index.js","components/Dialogs/Dialogs.module.css","components/utils/validators.js","common/loaders/formControls/FormControls.js","common/loaders/formControls/FormControls.module.css","common/paginator/paginator.module.css","components/Login/Login.module.css","store/profileReducer.js"],"names":["mapStateToProps","state","login","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","instance","axios","withCredentials","baseURL","headers","userApi","getUsers","currentPage","itemsInPage","get","then","response","data","followApi","unfollowUser","userId","delete","followUser","post","profileApi","getProfile","getStatus","updateStatus","status","put","updateProfileData","formData","uploadPhoto","file","FormData","append","authApi","logout","addMessage","initialState","newMessageText","dialogsData","name","id","messageData","message","dialogsReducer","action","type","friendsData","navbarReducer","FOLLOW","UN_FOLLOW","SET_USERS","SET_PAGE_NUMBER","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_REQUEST_IN_PROGRESS","totalCount","portionSize","isFetching","requestInProgress","users","follow","unFollow","toggleIsFetching","toggleRequestInProgress","usersReducer","map","u","followed","usersArray","pageNumber","filter","SET_AUTH","email","isAuth","setAuth","authMe","dispatch","a","resultCode","authReducer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","messagePage","navFriends","usersPage","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","Navbar","className","s","nav","item","active","activeClassName","News","Music","Settings","Dialog","dialog","src","alt","Message","maxLength50","maxLengthCreator","Textarea","FormComponentCreator","AddMassageFormRedux","reduxForm","onSubmit","handleSubmit","Field","component","validate","Dialogs","dialogsItems","d","messageItems","m","dialogs","dialogItems","messagesItems","e","compose","addMessageCreator","Paginator","pagesCount","Math","ceil","pagesArray","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","p","onPageNumberClick","page","Users","avatar","photos","small","defaultAvatar","disabled","some","Loader","ldsDefault","getTotalCount","getItemsInPage","getCurrentPage","getIsFetching","getRequestInProgress","getPortionSize","UsersApiContainer","requestUser","items","Header","header","HeaderContainer","maxLength20","Input","ReduxLoginForm","required","placeholder","error","summaryError","messages","length","stopSubmit","_error","ProfileContainer","lazy","App","initialize","Nav","path","render","DialogsContainer","Suspense","fallback","UsersContainer","withRouter","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","value","maxLength","ElementType","input","meta","hasError","touched","formControl","ADD_POST","SET_PROFILE_USER","SET_STATUS","DELETE_POST","SET_PHOTO_SUCCESS","profile","newPostText","postData","EditingProfData","addPostCreator","setStatus","setPhoto","user","getState","postId"],"mappings":"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","file":"static/js/main.156f037e.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Redirect } from \"react-router-dom\"\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tlogin: state.auth.login\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.login) return <Redirect to={\"/login\"} />\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\tlet connectedAuthRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n\treturn connectedAuthRedirectComponent\r\n}","export default __webpack_public_path__ + \"static/media/user.a70779f1.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"News\":\"News_News__3jRbL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Music\":\"Music_Music__29GqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Settings\":\"Settings_Settings__22_-R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__2jWQl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsDefault\":\"loader_ldsDefault__2HaWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__33uNJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1iynZ\",\"item\":\"Nav_item__ZP2VO\",\"active\":\"Nav_active__1ZIWY\"};","import * as axios from \"axios\"\r\n\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\theaders: {\r\n\t\t\"API-KEY\": \"6db48472-7e9b-4cf4-ae84-93f951e67dd8\"\r\n\t}\r\n\r\n})\r\n\r\n\r\nexport const userApi = {\r\n\tgetUsers(currentPage, itemsInPage) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${itemsInPage}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t})\r\n\t}\r\n}\r\n\r\nexport const followApi = {\r\n\tunfollowUser(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t})\r\n\t},\r\n\tfollowUser(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t})\r\n\t}\r\n}\r\n\r\nexport const profileApi = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t})\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`/profile/status/${userId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t})\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`/profile/status`, {\r\n\t\t\tstatus: status\r\n\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t})\r\n\t},\r\n\tupdateProfileData(formData) {\r\n\t\treturn instance.put(`/profile`, formData)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t})\r\n\t},\r\n\tuploadPhoto(file) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append(\"image\", file)\r\n\t\treturn instance.put(`/profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"multipart/form-data\"\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t})\r\n\t}\r\n\r\n}\r\nexport const authApi = {\r\n\tauth() {\r\n\t\treturn instance.get(`auth/me`,)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t})\r\n\t},\r\n\tlogin(formData) {\r\n\t\treturn instance.post(\"/auth/login\", {\r\n\t\t\t...formData\r\n\t\t}).then(response => {\r\n\t\t\treturn response.data\r\n\t\t})\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(\"/auth/login\").then(response => {\r\n\t\t\treturn response.data\r\n\t\t})\r\n\t}\r\n}","const addMessage = \"addMessage\"\r\n\r\nlet initialState = {\r\n\tnewMessageText: \"\",\r\n\tdialogsData: [\r\n\t\t{ name: \"Sasha\", id: 1 },\r\n\t\t{ name: \"Ira\", id: 2 },\r\n\t\t{ name: \"Igor\", id: 3 },\r\n\t\t{ name: \"Vova\", id: 4 },\r\n\t\t{ name: \"Stepan\", id: 5 },\r\n\t],\r\n\tmessageData: [\r\n\t\t{ message: \"Hello word\", status: \"me\" },\r\n\t\t{ message: \"its me\", status: \"else\" },\r\n\t\t{ message: \"lets do this\", status: \"me\" },\r\n\t\t{ message: \"lets do this\", status: \"else\" }\r\n\t]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase addMessage: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessageData: [...state.messageData, { message: action.messageData, status: \"me\" }]\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n\r\n}\r\n\r\nexport const addMessageCreator = (messageData) => ({ type: addMessage, messageData })\r\n\r\nexport default dialogsReducer ","\r\nlet initialState = {\r\n\tfriendsData: [\r\n\t\t{ name: \"Vasiy\" },\r\n\t\t{ name: \"Katiy\" },\r\n\t\t{ name: \"Oleg\" }\r\n\t]\r\n}\r\n\r\n\r\nconst navbarReducer = (state = initialState, action) => {\r\n\treturn state\r\n}\r\n\r\n\r\n\r\nexport default navbarReducer ","import { followApi, userApi } from \"../api/userApi\"\r\n\r\nconst FOLLOW = \"FOLLOW\"\r\nconst UN_FOLLOW = \"UN_FOLLOW\"\r\nconst SET_USERS = \"SET_USERS\"\r\nconst SET_PAGE_NUMBER = \"SET_PAGE_NUMBER\"\r\nconst SET_TOTAL_COUNT = \"SET_TOTAL_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_REQUEST_IN_PROGRESS = \"TOGGLE_REQUEST_IN_PROGRESS\"\r\n\r\nlet initialState = {\r\n\ttotalCount: 0,\r\n\titemsInPage: 5,\r\n\tcurrentPage: 1,\r\n\tportionSize: 10,\r\n\tisFetching: false,\r\n\trequestInProgress: [],\r\n\tusers: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(u => {\r\n\t\t\t\t\tif (u.id === action.userId) {\r\n\t\t\t\t\t\treturn { ...u, followed: true }\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn u\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase UN_FOLLOW: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(u => {\r\n\t\t\t\t\tif (u.id === action.userId) {\r\n\t\t\t\t\t\treturn { ...u, followed: false }\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn u\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_USERS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.usersArray,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_PAGE_NUMBER: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: action.pageNumber\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_TOTAL_COUNT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalCount: action.totalCount\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase TOGGLE_REQUEST_IN_PROGRESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trequestInProgress: action.isFetching ?\r\n\t\t\t\t\t[...state.requestInProgress, action.userId]\r\n\t\t\t\t\t: [...state.requestInProgress.filter(u => u !== action.userId)]\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const follow = (userId) => ({ type: FOLLOW, userId })\r\nexport const unFollow = (userId) => ({ type: UN_FOLLOW, userId })\r\nexport const setUser = (usersArray) => ({ type: SET_USERS, usersArray })\r\nexport const setPageNumber = (pageNumber) => ({ type: SET_PAGE_NUMBER, pageNumber })\r\nexport const setTotalCount = (totalCount) => ({ type: SET_TOTAL_COUNT, totalCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleRequestInProgress = (isFetching, userId) => ({ type: TOGGLE_REQUEST_IN_PROGRESS, isFetching, userId })\r\n\r\n\r\n// ?\r\n\r\nexport const requestUser = (currentPage, itemsInPage) => async (dispatch) => {\r\n\tdispatch(setPageNumber(currentPage))\r\n\tdispatch(toggleIsFetching(true))\r\n\tconst data = await userApi.getUsers(currentPage, itemsInPage)\r\n\tdispatch(toggleIsFetching(false))\r\n\tdispatch(setUser(data.items))\r\n\tdispatch(setTotalCount(data.totalCount))\r\n}\r\n\r\nexport const unfollowUser = (userId) => async (dispatch) => {\r\n\tdispatch(toggleRequestInProgress(true, userId))\r\n\tconst data = await followApi.unfollowUser(userId)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(unFollow(userId))\r\n\t}\r\n\tdispatch(toggleRequestInProgress(false, userId))\r\n}\r\n\r\nexport const followUser = (userId) => async (dispatch) => {\r\n\tdispatch(toggleRequestInProgress(true, userId))\r\n\tconst data = await followApi.followUser(userId)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(follow(userId))\r\n\t}\r\n\tdispatch(toggleRequestInProgress(false, userId))\r\n}\r\n\r\nexport default usersReducer","import { stopSubmit } from \"redux-form\"\r\nimport { authApi } from \"../api/userApi\"\r\n\r\nconst SET_AUTH = \"SET_AUTH\"\r\nconst SET_LOGIN = \"SET_LOGIN\"\r\n\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\tlogin: null,\r\n\temail: null,\r\n\tisFetching: false,\r\n\tisAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SET_AUTH: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.data\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setAuth = (userId, login, email, isAuth) => ({ type: SET_AUTH, data: { userId, login, email, isAuth } })\r\nexport const setLogin = (data) => ({ type: SET_LOGIN, data })\r\n\r\nexport const authMe = () => async (dispatch) => {\r\n\tlet data = await authApi.auth()\r\n\tif (data.resultCode === 0) {\r\n\t\tlet { id, login, email } = data.data\r\n\t\tdispatch(setAuth(id, login, email, true))\r\n\t}\r\n}\r\n\r\nexport const login = (formData) => async (dispatch) => {\r\n\tlet data = await authApi.login(formData)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(authMe())\r\n\t} else {\r\n\t\tlet message = data.messages.length > 0 ? data.messages[0] : \"some error\"\r\n\t\tdispatch(stopSubmit(\"login\", { _error: message }))\r\n\t}\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tlet data = await authApi.logout()\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setAuth(null, null, null, false))\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default authReducer","import { authMe } from \"./authReducer\"\r\n\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\"\r\n\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS, })\r\n\r\n\r\nexport const initialize = () => (dispatch) => {\r\n\r\n\tlet promise = dispatch(authMe())\r\n\t// dispatchEvent(someAction())\r\n\t// dispatchEvent(someAction())\r\n\tPromise.all([promise]).then(() => {\r\n\t\tdispatch(initializedSuccess())\r\n\t})\r\n}\r\n\r\n\r\n\r\nexport default appReducer ","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport navbarReducer from \"./navbarReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nconst reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tmessagePage: dialogsReducer,\r\n\tnavFriends: navbarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n})\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\nwindow.store = store\r\nexport default store\r\n","import { NavLink } from \"react-router-dom\"\r\n// import FriendsContainer from \"./Friends/FriendsContainer\"\r\nimport s from \"./Nav.module.css\"\r\n\r\nconst Navbar = (props) => {\r\n\r\n\treturn <aside className={s.nav}>\r\n\t\t<div>\r\n\t\t\t<div className={`${s.item} ${s.active}`}>\r\n\t\t\t\t<NavLink to=\"/Profile\" activeClassName={s.active}>Profile</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/Message\" activeClassName={s.active}>Message</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/News\" activeClassName={s.active}>News</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/Music\" activeClassName={s.active}>Music</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/Settings\" activeClassName={s.active}>Settings</NavLink>\r\n\t\t\t</div>\r\n\t\t\t{/* <div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/friends\" activeClassName={s.active}><FriendsContainer /></NavLink>\r\n\t\t\t</div> */}\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/Users\" activeClassName={s.active}>Users</NavLink>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</aside>\r\n}\r\n\r\nexport default Navbar","import s from \"./News.module.css\"\r\n\r\nconst News = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className={s.News}>\r\n\t\t\tNews\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default News","import s from \"./Music.module.css\"\r\n\r\nconst Music = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className={s.Music}>\r\n\t\t\tMusic\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Music","import s from \"./Settings.module.css\"\r\n\r\nconst Settings = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className={s.Settings}>\r\n\t\t\tSettings\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Settings","import { NavLink } from \"react-router-dom\"\r\nimport s from \"./../Dialogs.module.css\"\r\n\r\nconst Dialog = (props) => {\r\n\treturn (\r\n\t\t<div className={s.dialog}>\r\n\t\t\t<NavLink to={\"/Message/\" + props.id} activeClassName={s.active}>\r\n\t\t\t\t<img src=\"https://eitrawmaterials.eu/wp-content/uploads/2016/09/person-icon.png\" alt=\"\" />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{props.name}\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Dialog","\r\nimport \"./Message.css\"\r\n\r\n\r\nconst Message = (props) => {\r\n\treturn (<div className={props.className}>\r\n\t\t<div className={props.className + \"border\"}>{props.message}</div>\r\n\t</div>\r\n\t)\r\n}\r\n\r\nexport default Message","import React from \"react\"\r\nimport Dialog from \"./Dialog/Dialog\"\r\nimport s from \"./Dialogs.module.css\"\r\nimport Message from \"./Message/Message\"\r\nimport { Field, reduxForm } from \"redux-form\"\r\nimport { FormComponentCreator } from \"../../common/loaders/formControls/FormControls\"\r\nimport { maxLengthCreator } from \"../utils/validators\"\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\tlet dialogsItems = props.messagePage.dialogsData.map(d => <Dialog name={d.name} id={d.id} />)\r\n\tlet messageItems = props.messagePage.messageData.map(m => <Message message={m.message} className={m.status} />)\r\n\r\n\tlet addMassage = (e) => {\r\n\t\tprops.addMessage(e.messageData)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={s.dialogs}>\r\n\t\t\t<div className={s.dialogItems}>\r\n\t\t\t\t{dialogsItems}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.messagesItems}>\r\n\t\t\t\t{messageItems}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.addMessage}>\r\n\t\t\t\t<AddMassageFormRedux onSubmit={addMassage} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nlet maxLength50 = maxLengthCreator(50)\r\n\r\nconst Textarea = FormComponentCreator(\"textarea\")\r\n\r\nconst AddMassageForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<Field name=\"messageData\" component={Textarea} validate={[maxLength50]} ></Field>\r\n\t\t\t<button>Send Message</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nlet AddMassageFormRedux = reduxForm({ form: \"addMessage\" })(AddMassageForm)\r\n\r\nexport default Dialogs","\r\nimport { connect } from \"react-redux\"\r\nimport { compose } from \"redux\"\r\nimport { withAuthRedirect } from \"../../hoc/AuthRedirect\"\r\nimport { addMessageCreator } from \"../../store/dialogsReducer\"\r\nimport Dialogs from \"./Dialogs\"\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmessagePage: state.messagePage,\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddMessage: (messageData) => {\r\n\t\t\tdispatch(addMessageCreator(messageData))\r\n\t\t}\r\n\t}\r\n}\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect)(Dialogs)\r\n","import { useState } from \"react\"\r\nimport s from \"./paginator.module.css\"\r\n\r\nconst Paginator = (props) => {\r\n\tlet pagesCount = Math.ceil(props.totalCount / props.itemsInPage)\r\n\tlet pagesArray = []\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpagesArray.push(i)\r\n\t}\r\n\tlet portionCount = Math.ceil(pagesCount / props.portionSize)\r\n\tlet [portionNumber, setPortionNumber] = useState(1)\r\n\tlet leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1\r\n\tlet rightPortionPageNumber = portionNumber * props.portionSize\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{portionNumber > 2 && <button onClick={() => setPortionNumber(1)}>---</button>}\r\n\t\t\t{leftPortionPageNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>BACK</button>}\r\n\t\t\t{pagesArray\r\n\t\t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t\t.map(p => <span onClick={(e) => { props.onPageNumberClick(p) }} className={props.currentPage === p ? s.currentPage : s.page} > {p}</span>)\r\n\t\t\t}\r\n\t\t\t{portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>}\r\n\t\t\t{portionNumber < portionCount - 1 && <button onClick={() => setPortionNumber(portionCount)}>+++</button>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// let Paginator = ({ totalCount, itemsInPage, currentPage, onPageNumberClick, portionSize = 10 }) => {\r\n\r\n// \tlet pagesCount = Math.ceil(totalCount / itemsInPage);\r\n\r\n// \tlet pages = [];\r\n// \tfor (let i = 1; i <= pagesCount; i++) {\r\n// \t\tpages.push(i);\r\n// \t}\r\n\r\n// \tlet portionCount = Math.ceil(pagesCount / portionSize);\r\n// \tlet [portionNumber, setPortionNumber] = useState(1);\r\n// \tlet leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n// \tlet rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n// \treturn <div className={s.paginator}>\r\n// \t\t{portionNumber > 1 &&\r\n// \t\t\t<button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\r\n\r\n// \t\t{pages\r\n// \t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n// \t\t\t.map((p) => {\r\n// \t\t\t\treturn <span className={({\r\n// \t\t\t\t\t[s.selectedPage]: currentPage === p\r\n// \t\t\t\t}, s.pageNumber)}\r\n// \t\t\t\t\tkey={p}\r\n// \t\t\t\t\tonClick={(e) => {\r\n// \t\t\t\t\t\tonPageNumberClick(p);\r\n// \t\t\t\t\t}}>{p}</span>\r\n// \t\t\t})}\r\n// \t\t{portionCount > portionNumber &&\r\n// \t\t\t<button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\r\n\r\n\r\n// \t</div>\r\n// }\r\nexport default Paginator","\r\nimport s from \"./Users.module.css\"\r\nimport defaultAvatar from \"../../assets/images/user.png\"\r\nimport { NavLink } from \"react-router-dom\"\r\nimport Paginator from \"../../common/paginator/paginator\"\r\n\r\n\r\n\r\nconst Users = (props) => {\r\n\r\n\treturn <div>\r\n\r\n\t\t<Paginator totalCount={props.totalCount} itemsInPage={props.itemsInPage} onPageNumberClick={props.onPageNumberClick}\r\n\t\t\tcurrentPage={props.currentPage} portionSize={props.portionSize} />\r\n\t\t{\r\n\t\t\tprops.users.map(u => <div key={u.id}>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<NavLink to={\"/Profile/\" + u.id}>\r\n\t\t\t\t\t\t<div ><img className={s.avatar} src={u.photos.small != null ? u.photos.small : defaultAvatar} alt=\"avatar\" /></div>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<div>{u.followed\r\n\t\t\t\t\t\t? <button disabled={props.requestInProgress.some(id => id === u.id)} onClick={() => {\r\n\t\t\t\t\t\t\tprops.unfollowUser(u.id)\r\n\t\t\t\t\t\t}}>UNFOLLOW</button>\r\n\t\t\t\t\t\t: <button disabled={props.requestInProgress.some(id => id === u.id)} onClick={() => {\r\n\t\t\t\t\t\t\tprops.followUser(u.id)\r\n\t\t\t\t\t\t}}>FOLLOW</button>}</div>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>{u.name}</div>\r\n\t\t\t\t\t<div>{u.status}</div>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>{\"u.location.country\"}</div>\r\n\t\t\t\t\t<div>{\"u.location.city\"}</div>\r\n\t\t\t\t</span>\r\n\t\t\t</div >)\r\n\t\t}\r\n\t</div >\r\n\r\n}\r\n\r\n\r\nexport default Users","\r\nimport s from \"./loader.module.css\"\r\n\r\nconst Loader = () => {\r\n\treturn <div className={s.ldsDefault}><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n}\r\n\r\nexport default Loader","export const getUsers = (state) => {\r\n\treturn state.usersPage.users\r\n}\r\nexport const getTotalCount = (state) => {\r\n\treturn state.usersPage.totalCount\r\n}\r\nexport const getItemsInPage = (state) => {\r\n\treturn state.usersPage.itemsInPage\r\n}\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching\r\n}\r\nexport const getRequestInProgress = (state) => {\r\n\treturn state.usersPage.requestInProgress\r\n}\r\nexport const getPortionSize = (state) => {\r\n\treturn state.usersPage.portionSize\r\n}","import React from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport { requestUser, unfollowUser, followUser } from \"../../store/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport Loader from \"../../common/loaders/loader\";\r\nimport { getCurrentPage, getIsFetching, getItemsInPage, getPortionSize, getRequestInProgress, getTotalCount, getUsers } from \"../../store/userSelectors\";\r\n\r\n\r\n\r\nclass UsersApiContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.requestUser(this.props.currentPage, this.props.itemsInPage)\r\n\r\n\t}\r\n\tonPageNumberClick = (pageNumber) => {\r\n\t\tthis.props.requestUser(pageNumber, this.props.itemsInPage)\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (<>\r\n\t\t\t<div>{this.props.isFetching ? < Loader /> : \"\"}</div>\r\n\t\t\t<Users\r\n\t\t\t\titemsInPage={this.props.itemsInPage}\r\n\t\t\t\tonPageNumberClick={this.onPageNumberClick}\r\n\t\t\t\tcurrentPage={this.props.currentPage}\r\n\t\t\t\tusers={this.props.users}\r\n\t\t\t\trequestInProgress={this.props.requestInProgress}\r\n\t\t\t\tunfollowUser={this.props.unfollowUser}\r\n\t\t\t\tfollowUser={this.props.followUser}\r\n\t\t\t\tportionSize={this.props.portionSize}\r\n\t\t\t\ttotalCount={this.props.totalCount}\r\n\t\t\t/>\r\n\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsers(state),\r\n\t\ttotalCount: getTotalCount(state),\r\n\t\titemsInPage: getItemsInPage(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\trequestInProgress: getRequestInProgress(state),\r\n\t\tportionSize: getPortionSize(state)\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n\trequestUser, unfollowUser,\r\n\tfollowUser\r\n})(UsersApiContainer)","import { NavLink } from \"react-router-dom\"\r\nimport s from \"./Header.module.css\"\r\n\r\nconst Header = (props) => {\r\n\treturn <header className={s.header}>\r\n\t\t<div>\r\n\t\t\t<img src=\"https://image.shutterstock.com/image-photo/bright-spring-view-cameo-island-260nw-1048185397.jpg\" alt=\"logo\"></img>\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t{props.auth.login\r\n\t\t\t\t? <div>{props.auth.login} <button onClick={props.logout}>Logout</button></div>\r\n\t\t\t\t: <NavLink to=\"/Login\">Login</NavLink>}\r\n\t\t</div>\r\n\t</header >\r\n}\r\nexport default Header","import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { logout } from \"../../store/authReducer\";\r\nimport Header from \"./Header\"\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t}\r\n\trender() {\r\n\t\treturn <Header {...this.props} />\r\n\t}\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.auth\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer)","import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { Field, reduxForm } from \"redux-form\"\r\nimport { FormComponentCreator } from \"../../common/loaders/formControls/FormControls\"\r\n\r\nimport { login } from \"../../store/authReducer\"\r\nimport { maxLengthCreator, required } from \"../utils/validators\"\r\nimport s from \"./Login.module.css\"\r\n\r\nconst Login = (props) => {\r\n\tlet onSubmit = (formData) => {\r\n\t\tprops.login(formData)\r\n\t}\r\n\tif (props.auth.isAuth) return <Redirect to={\"/profile\"} />\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Login</h1>\r\n\t\t\t<ReduxLoginForm onSubmit={onSubmit} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nlet maxLength20 = maxLengthCreator(20)\r\n\r\nconst Input = FormComponentCreator(\"input\")\r\n\r\nconst LoginForm = (props) => {\r\n\treturn (\r\n\t\t<form className={s.form} onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field validate={[required, maxLength20]} component={Input} name={\"email\"} placeholder={\"email\"} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field validate={[required, maxLength20]} component={Input} name={\"password\"} placeholder={\"password\"} type={\"password\"} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field component={\"input\"} name={\"rememberMe\"} type={\"checkbox\"} /> remember me\r\n\t\t\t</div>\r\n\t\t\t{props.error ? <div className={s.summaryError}>\r\n\t\t\t\t{props.error}\r\n\t\t\t</div> : \"\"}\r\n\t\t\t<div>\r\n\t\t\t\t<button>Login</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tauth: state.auth\r\n})\r\n\r\n\r\nconst ReduxLoginForm = reduxForm({ form: \"login\" })(LoginForm)\r\n\r\nexport default connect(mapStateToProps, { login })(Login)","import './zero.css'\nimport './App.css';\nimport Navbar from './components/Navbar/Nav';\nimport { Route, withRouter } from 'react-router-dom';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { Component } from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { initialize } from './store/appReducer';\nimport Loader from './common/loaders/loader';\nimport { WithSuspence } from './hoc/WithSuspence';\nimport React from \"react\"\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\nclass App extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.initialize()\n\t}\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Loader />\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<HeaderContainer />\n\t\t\t\t<Navbar />\n\t\t\t\t<div className=\"container-content\">\n\t\t\t\t\t<Route path=\"/Message\" render={() => <DialogsContainer />} />\n\t\t\t\t\t<Route path=\"/Profile/:userId?\" render={WithSuspence(ProfileContainer)\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path=\"/News\" component={News} />\n\t\t\t\t\t<Route path=\"/Music\" component={Music} />\n\t\t\t\t\t<Route path=\"/Settings\" component={Settings} />\n\t\t\t\t\t<Route path=\"/Users\" render={() => <UsersContainer />} />\n\t\t\t\t\t<Route path=\"/Login\" render={() => <Login />} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nlet mapStateToProps = (state) => ({\n\tinitialized: state.app.initialized\n})\n\nexport default compose(\n\twithRouter,\n\tconnect(mapStateToProps, { initialize })\n)(App);\n\n","import React from \"react\"\r\n\r\nexport const WithSuspence = (Component) => (props) => {\r\n\treturn <React.Suspense fallback={<div>...Loading</div>}>\r\n\t\t< Component {...props} />\r\n\t</React.Suspense>\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\nimport './index.css';\nimport store from \"./store/reduxStore\"\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\n\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<BrowserRouter>\n\t\t\t<Provider store={store}>\n\t\t\t\t<App />\n\t\t\t</Provider>\n\t\t</BrowserRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1t-SS\",\"active\":\"Dialogs_active__1CCxo\",\"dialog\":\"Dialogs_dialog__lWefe\",\"dialogItems\":\"Dialogs_dialogItems__H-ziN\",\"messagesItems\":\"Dialogs_messagesItems__3_YRH\"};","export const required = (value) => {\r\n\tif (value) return undefined\r\n\treturn \"this field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif (value && value.length > maxLength) return `max length is ${maxLength} symbols`\r\n\treturn undefined\r\n}","import React from \"react\"\r\nimport s from \"./FormControls.module.css\"\r\n\r\n\r\nexport const FormComponentCreator = (ElementType) => ({ input, meta, ...props }) => {\r\n\tconst hasError = meta.touched && meta.error\r\n\treturn (\r\n\t\t<div className={s.formControl + \" \" + (hasError && s.error)}>\r\n\t\t\t<div>\r\n\t\t\t\t<ElementType {...props} {...input} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{hasError && meta.error}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1BZS6\",\"error\":\"FormControls_error__wHMxD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentPage\":\"paginator_currentPage__MgdSU\",\"page\":\"paginator_page__1CKlE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__17kf7\",\"summaryError\":\"Login_summaryError__3AA4P\"};","import { profileApi } from \"../api/userApi\"\r\n\r\nconst ADD_POST = \"ADD_POST\"\r\nconst SET_PROFILE_USER = \"SET_PROFILE_USER\"\r\nconst SET_STATUS = \"SET_STATUS\"\r\nconst DELETE_POST = \"DELETE_POST\"\r\nconst SET_PHOTO_SUCCESS = \"SET_PHOTO_SUCCESS\"\r\n\r\n\r\nlet initialState = {\r\n\tprofile: null,\r\n\tnewPostText: \"\",\r\n\tpostData: [\r\n\t\t{ id: 1, message: \"hi it's \" },\r\n\t\t{ id: 2, message: \"my name is Igor\" },\r\n\t\t{ id: 3, message: \"What do you want?\" },\r\n\t\t{ id: 4, message: \" Just a question?\" }\r\n\t],\r\n\tstatus: \"\",\r\n\tEditingProfData: true\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostData: [...state.postData, { message: action.postData }],\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_PROFILE_USER: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.user\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_PHOTO_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: { ...state.profile, photos: action.file }\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostData: state.postData.filter(e => e.id !== action.postId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const deletePostCreator = (postId) => ({ type: DELETE_POST, postId })\r\nexport const addPostCreator = (postData) => ({ type: ADD_POST, postData })\r\nexport const setProfileUser = (user) => ({ type: SET_PROFILE_USER, user })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const setPhoto = (file) => ({ type: SET_PHOTO_SUCCESS, file })\r\n\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n\tconst data = await profileApi.getProfile(userId)\r\n\tdispatch(setProfileUser(data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n\tconst data = await profileApi.getStatus(userId)\r\n\tdispatch(setStatus(data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\tconst data = await profileApi.updateStatus(status)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setStatus(status))\r\n\t}\r\n}\r\nexport const updateProfileData = (formData) => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.userId\r\n\tconst data = await profileApi.updateProfileData(formData)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(getProfile(userId))\r\n\t}\r\n}\r\n\r\nexport const uploadPhoto = (file) => async (dispatch) => {\r\n\tconst data = await profileApi.uploadPhoto(file)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setPhoto(data.data.photos))\r\n\t}\r\n}\r\n\r\n\r\nexport default profileReducer"],"sourceRoot":""}